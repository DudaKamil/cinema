@using Cinema.DAL
@using Cinema.Services
@model IEnumerable<Cinema.Models.Seance>

@{
    ViewBag.Title = "Przegląd Seansów";
    MovieRepository movieRepo = new MovieRepository(new CinemaContext());
}
                      <link href="~/Content/admin/AddFilm.css" type="text/css" rel="stylesheet" />
                      <div class="container">
                          <div class="row">
                              <div class=" col-md-8 col-md-offset-2">
                                  <div class="panel panel-default panel-table">
                                      <div class="panel-heading">
                                          <div class="row">
                                              <div class="col col-xs-6">
                                                  <h2>Przegląd Seansów</h2>
                                              </div>
                                              <div class="col col-xs-6 text-right">
                                                  @Html.ActionLink("Dodaj Seans", "SeanceAdd", null, new { @class = "btn btn-sm btn-primary btn-create" })
                                              </div>
                                          </div>
                                      </div>
                                      <div class="panel-body">
                                          <table id="moviesTable" class="table table-striped table-bordered table-list">
                                              <thead>
                                                  <tr>
                                                      <th class="text-center col-md-4 col-xs-5">Film</th>
                                                      <th class="text-center col-md-2 hidden-xs">Data</th>
                                                      <th class="text-center col-md-2 hidden-xs">Typ</th>
                                                      <th class="text-center hidden-sm col-xs-2">Szczegóły</th>
                                                      <th class="text-center col-md-3 col-xs-5"><em class="fa fa-cog"></em></th>
                                                  </tr>
                                              </thead>
                                              <tbody>
                                                  @foreach (var item in Model)
                                                  {
                                                      <tr>
                                                          <td align="center">
                                                              @Html.ActionLink(movieRepo.GetMovieName(item.MovieID), "MovieDetails", new { id = item.MovieID })
                                                          </td>
                                                          <td class="hidden-xs text-center">
                                                              @Html.DisplayFor(modelItem => item.ShowDate)
                                                          </td>
                                                          <td class="hidden-xs text-center">
                                                              @Html.DisplayFor(modelItem => item.Type)
                                                          </td>
                                                          <td class="hidden-sm text-center">
                                                              @Html.ActionLink(" ", "SeanceDetails", new { id = item.SeanceID }, new { @class = "btn btn-default fa fa-eye" })
                                                          </td>
                                                        <td align="center">
                                                            @Html.ActionLink(" ", "SeanceEdit", new { id = item.SeanceID }, new { @class = "btn btn-default fa fa-pencil" })
                                                            @Html.ActionLink(" ", "SeanceDelete", new { id = item.SeanceID }, new { @class = "btn btn-danger fa fa-trash" })
                                                        </td>
                                                    </tr>
                                                  }
                                              </tbody>
                                          </table>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>